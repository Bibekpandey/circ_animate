<html>
    <head>
        <title>The Particles</title>
    </head>
    <body>
        <canvas id="mycanvas" height="900" width="900"></canvas>
        <br /><br/>
        <canvas id="textcanvas" height="900" width="900" style="border: solid 1px"></canvas>
    </body>
    <script>
        const canvas = document.getElementById('mycanvas');
        const ctx = canvas.getContext('2d');
    </script>

    <script src="index.js" type="module"></script>
    <script type="module">
        import { ParticlesRenderer } from  './index.js';
        // fill canvas with black
        ctx.fillStyle = 'black';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        const p = new ParticlesRenderer(canvas);


        document.onmousemove = (ev) => { 
            const mousex = ev.pageX - canvas.offsetLeft;
            const mousey = ev.pageY - canvas.offsetTop;
            const newCoord = {
                x: mousex - canvas.width/2,
                y: canvas.height/2 - mousey
            };
            p.force.addToPositionHistory(newCoord);
            p.force.position = newCoord;
        };

        p.createParticles(50, 50);
        p.animate();

    </script>

    <!--
    <script src="text-sampling.js"></script>
    <script>
        const textcanvas = document.getElementById('textcanvas');
        const tctx = textcanvas.getContext('2d');

        tctx.fillStyle = 'white';
        tctx.fillRect(0, 0, textcanvas.width, textcanvas.height);

        drawText(tctx, 'TC');
        const sample = sampleCanvas(tctx);
        scene = new Scene(ctx, createParticlesFromSample(ctx, sample));
        scene.animate();
    </script>
    -->

</html>
