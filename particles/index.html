<html>
    <head>
        <title>The Particles</title>
    </head>
    <body>
        <canvas id="mycanvas" height="900" width="900"></canvas>
        <br /><br/>
        <canvas id="textcanvas" height="900" width="900" style="border: solid 1px"></canvas>
    </body>
    <script>
        const canvas = document.getElementById('mycanvas');
        const ctx = canvas.getContext('2d');
    </script>

    <script src="index.js"></script>
    <script>
        // fill canvas with black
        let particlesSpacing = 7;
        let vparticles = createParticles(ctx, 10, 25, 0, 0, particlesSpacing);
        let hparticles = createParticles(ctx, 30, 8, 0, particlesSpacing*(25+8-1), particlesSpacing);

        ctx.fillStyle = 'black';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        let scene;

        document.onmousemove = (ev) => { 
            const mousex = ev.pageX - canvas.offsetLeft;
            const mousey = ev.pageY - canvas.offsetTop;
            const newCoord = {
                x: mousex - canvas.width/2,
                y: canvas.height/2 - mousey
            };
            scene.force.addToPositionHistory(newCoord);
            scene.force.position = newCoord;
        };

    </script>

    <script src="text-sampling.js"></script>
    <script>
        const textcanvas = document.getElementById('textcanvas');
        const tctx = textcanvas.getContext('2d');

        tctx.fillStyle = 'white';
        tctx.fillRect(0, 0, textcanvas.width, textcanvas.height);

        drawText(tctx, 'TC');
        const sample = sampleCanvas(tctx);
        scene = new Scene(ctx, createParticlesFromSample(ctx, sample));
        scene.animate();
    </script>

</html>
