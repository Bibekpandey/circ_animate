<html>
    <head>
        <title>The Particles</title>
    </head>
    <body>
        <canvas id="mycanvas" height="900" width="900"></canvas>
    </body>
    <script>
        const canvas = document.getElementById('mycanvas');
        const ctx = canvas.getContext('2d');
    </script>
    <script src="index.js"></script>
    <script>
        // fill canvas with black
        let particlesSpacing = 7;
        let vparticles = createParticles(ctx, 10, 25, 0, 0, particlesSpacing);
        let hparticles = createParticles(ctx, 30, 8, 0, particlesSpacing*(25+8-1), particlesSpacing);
        const scene = new Scene(ctx, [...vparticles, ...hparticles]);
        ctx.fillStyle = 'black';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        canvas.onmousemove = (ev) => { 
            const mousex = ev.pageX - canvas.offsetLeft;
            const mousey = ev.pageY - canvas.offsetTop;
            const newCoord = {
                x: mousex - canvas.width/2,
                y: canvas.height/2 - mousey
            };
            scene.force.addToPositionHistory(newCoord);
            scene.force.position = newCoord;
        };

        scene.animate();
    </script>
</html>
